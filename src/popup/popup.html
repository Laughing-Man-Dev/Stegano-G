<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stegano-G Web Extension</title>
    <link rel="stylesheet" href="popup.css">
</head>

<body>
    <h1>Stegano-G Web Extension</h1>

    <!-- Main Menu -->
    <div id="mainMenu" class="view">
        <button id="keyManagementBtn">Key Management</button>
        <button id="embedBtn">Sign or Embed</button>
        <button id="extractBtn">Extract or Verify</button>
        <br><br>
        <!-- Public Key -->
        <p><code style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: blue; font-size: medium;" class="publicKey"> Load or Generate a keypair.</code></p>
    </div>

    <!-- Key Management View -->
    <!--
    View for managing keys. Generate, load, save, view.
    -->
    <div id="keyManagementView" class="view" style="display:none;">
        <h2>Key Management</h2>
        <button id="generateKey">Generate Key</button>
        <button id="loadKey">Load Key</button>
        <input id="privateKeyUpload" type="file" accept=".json">
        <button id="saveKey">Save Key</button>
        <button id="showInUseKey">Show In-Use Key</button>
        <p id="keyOutput"></p>
        <button id="backToMain1">Back</button>
        <br><br>
        <!-- Public Key -->
        <p><code style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: blue; font-size: medium;" class="publicKey"> Load or Generate a keypair.</code></p>
    </div>

    <!-- Embed View -->
    <!--
    View for interacting with the stamp, embed, sign features.
    -->
    <div id="embedView" class="view" style="display:none;">
        <h2>Embed a Message</h2>
        <p> 1. Upload content [image] to embed or sign. </p>
        <p> 2. Embed content based on the provided inputs. [Button selection for now.] </p>
        <!-- <input type="file" id="imageInput" accept="image/*" /> -->
        <!-- Input file to upload image -->
        <input type="file" id="imageInput" accept="image/*">
        <!-- Canvas to draw on -->
        <div id="myCanvas">Image Preview Here</div>

        <input type="password" id="password" placeholder="Enter password" />
        <textarea id="message" placeholder="Enter your message"></textarea>
        <br><br>
        <!-- Action buttons -->
        <button id="sign">Sign Image</button>
        <button id="stamp">Stamp Public Key</button>
        <button id="anonEmbed">Embed Message Anonymously</button>
        <button id="stampSign">Stamp PubKey + Sign</button>
        <button id="stampEmbed">Stamp PubKey, Embed, Sign</button>
        <button id="stampEmbedReceivers">Stamp PubKey, Embed, Multiple Receiver(s), + Sign</button>
        <br><br>
        <p><strong> Signature output: </strong></p>
        <p><code id="embedTextOutput" style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: red; font-size: medium;">If available: Your signature output will be here.</code></p>
        <br><br>
        <button id="backToMain2">Back</button>
        <br><br>
        <!-- Public Key -->
        <p><code style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: blue; font-size: medium;" class="publicKey"> Load or Generate a keypair.</code></p>
    </div>

    <!-- Extract View -->
    <!--
    View for interacting with the extract and verify features. 
    -->
    <div id="extractView" class="view" style="display:none;">
        <h2>Extract a Message</h2>
        <p> 1. Upload content [image] to extract from. </p>
        <p> 2. Extract content based on the provided inputs. </p>
        <input type="file" id="imageInputExtract" accept="image/*" />
        <div id="extractCanvas">Image Preview Here</div>
        <br><br>
        <input type="text" id="signerPub" placeholder="Input signer's public key">
        <p> <strong>Signature Output:</strong></p>
        <p><code id="signTextOutput" style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: red; font-size: medium;">(none)</code></p>
        <button id="extractSign">Check Signature</button>
        <br><br>
        <input type="password" id="passwordExtract" placeholder="Enter password" />
        <p><code id="extractTextOutput" style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: red; font-size: medium;">:Password Extraction Output:</code></p>
        <button id="extractPassword">Extract with Password</button>
        <br><br>
        <input type="text" id="privKey" placeholder="Input your PrivateKey [Sign]">
        <p><code id="extractPrivTextOutput" style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: red; font-size: medium;">:Private Key Extraction Message Output:</code></p>
        <button id="extractPrivateKey">Extract with Private Key</button>
        <br><br>
        <button id="backToMain3">Back</button>
        <br><br>
        <!-- Public Key -->
        <p><code style="word-wrap: break-word; word-break: break-all; text-align: center; 
            color: blue; font-size: medium;" class="publicKey"> Load or Generate a keypair.</code></p>
    </div>

    <script src="popup.js" type="module"></script>
</body>

</html>
